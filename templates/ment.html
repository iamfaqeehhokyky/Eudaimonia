<!DOCTYPE html>
<html>
  <head>
    <title>Stress Videos</title>
    <style>
      .video-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr); /* Adjust the number of columns as needed */
        grid-template-rows: repeat(4, 1fr); /* Adjust the number of rows as needed */
        grid-gap: 10px; /* Adjust the gap as needed */
        justify-content: center;
        align-items: center;
        height: 100vh; /* Adjust the height as needed */
      }

      .video-container iframe {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="video-container">
      {% for video_id in personalize %}
      <iframe
        id="player{{ loop.index }}"
        src="https://www.youtube.com/embed/{{ video_id }}"
        allowfullscreen
      ></iframe>
      {% endfor %}
    </div>

    <script>
      // Load the YouTube IFrame Player API asynchronously
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // Create an <iframe> (video player) for each video ID
      var players = [];
      function onYouTubeIframeAPIReady() {
        {% for video_id in video_ids %}
        players[{{ loop.index0 }}] = new YT.Player('player{{ loop.index }}');
        {% endfor %}
      }
    </script>
  </body>
</html>
