<!DOCTYPE html>
<html>
  <head>
    <title>Stress Videos</title>
    <style>
      .video-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr); /* Adjust the number of columns as needed */
        grid-template-rows: repeat(4, 1fr); /* Adjust the number of rows as needed */
        grid-gap: 10px; /* Adjust the gap as needed */
        justify-content: center;
        align-items: center;
        height: 100vh; /* Adjust the height as needed */
      }

      .video-container .click-to-play {
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        background-color: #f1f1f1;
        color: #333;
        font-size: 20px;
        font-weight: bold;
      }

      .video-container .click-to-play:hover {
        background-color: #e1e1e1;
      }

      .video-container .video-frame {
        width: 100%;
        height: 100%;
      }
    </style>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
      // Load the YouTube IFrame Player API asynchronously
      function loadYouTubeAPI() {
        var tag = document.createElement('script');
        tag.src = 'https://www.youtube.com/iframe_api';
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      }

      // Create an <iframe> (video player) for each video ID
      function createPlayer(videoId) {
        new YT.Player(videoId, {
          height: '100%',
          width: '100%',
          videoId: videoId,
          playerVars: {
            autoplay: 1,
            controls: 1,
            modestbranding: 1,
            rel: 0
          },
          events: {
            'onReady': onPlayerReady
          }
        });
      }

      // The API calls this function when the player is ready
      function onPlayerReady(event) {
        // Do something when the player is ready
      }
    </script>
  </head>
  <body>
    <div class="video-container">
      {% for video_id in relax %}
      <div id="{{ video_id }}" class="click-to-play" onclick="createPlayer('{{ video_id }}')">Click to Play</div>
      {% endfor %}
    </div>

    <div class="video-container">
      {% for video_id in meditations %}
      <div id="{{ video_id }}" class="click-to-play" onclick="createPlayer('{{ video_id }}')">Click to Play</div>
      {% endfor %}
    </div>

    <div class="video-container">
      {% for video_id in personalize %}
      <div id="{{ video_id }}" class="click-to-play" onclick="createPlayer('{{ video_id }}')">Click to Play</div>
      {% endfor %}
    </div>

    <script>
      // Add click-to-play functionality to the video containers
      const videoContainers = document.querySelectorAll('.click-to-play');
      videoContainers.forEach((container) => {
        container.addEventListener('click', () => {
          const videoId = container.getAttribute('id');
          container.style.display = 'none';
          createPlayer(videoId);
        });
      });
    </script>
  </body>
</html>
